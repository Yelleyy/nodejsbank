<%- include( './tools.ejs' ); %>

    <body>
        <div class="container px-4 py-5" id="hanging-icons">
            <h2 class="pb-2 border-bottom">Menu</h2>
            <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
                <div class="col d-flex align-items-start">
                    <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                        <svg class="bi" width="1em" height="1em"><use xlink:href="#toggles2"></use></svg>
                    </div>
                    <div>
                        <h2>Deposit Your Money</h2>
                        <p>Deposit your money here!.</p>
                        <a href="#" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#DepositModal">
                    Deposit
                  </a>
                    </div>
                </div>
                <div class="col d-flex align-items-start">
                    <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                        <svg class="bi" width="1em" height="1em"><use xlink:href="#cpu-fill"></use></svg>
                    </div>
                    <div>
                        <h2>Withdraw Your Money</h2>
                        <p>Withdraw your money here!.</p>
                        <a href="#" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#WithdrawModal">
                            Withdraw
                  </a>
                    </div>
                </div>
                <div class="col d-flex align-items-start">
                    <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                        <svg class="bi" width="1em" height="1em"><use xlink:href="#cpu-fill"></use></svg>
                    </div>
                    <div>
                        <h2>Transfer Your Money</h2>
                        <p>You can transfer your money to others here!.</p>
                        <a href="#" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#TransferModal">
                            Transfer
                  </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="DepositModal" tabindex="-1" aria-hidden="true"><br><br><br><br><br><br>
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Deposit Money</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/deposit" method="post">
                            <div class="mb-3">
                                <label class="form-label">Select Your Account</label>
                                <select class="form-select" name="id">
                                    <option selected>Open this select menu</option>
                                    <% if(data.length){
                                            for(var i = 0; i< data.length; i++) {%>
                                                <option value="<%= data[i]._id %>"><%= data[i].account_name %> Balance = <%= data[i].balance.toFixed(2).toString(); %> </option>
                                                <% }          
                                        }else{ %>
                                            <option value="0">Please Create Account</option>
                                        <% } %>
                                  </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Balance</label>
                                <input class="form-control" name="amount" placeholder="00.00" pattern="[0-9]+" required>
                            </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-success">Deposit!</button>
                    </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal fade" id="WithdrawModal" tabindex="-1" aria-hidden="true"><br><br><br><br><br><br>
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Withdraw Money</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/withdraw" method="post">
                            <div class="mb-3">
                                <label class="form-label">Select Your Account</label>
                                <select class="form-select" name="id">
                                    <option selected>Open this select menu</option>
                                    <% if(data.length){
                                            for(var i = 0; i< data.length; i++) {%>
                                                <option value="<%= data[i]._id %>"><%= data[i].account_name %> Balance = <%= data[i].balance.toFixed(2).toString(); %> </option>
                                                <% }          
                                        }else{ %>
                                            <option value="0">Please Create Account</option>
                                        <% } %>
                                  </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Balance</label>
                                <input class="form-control" name="amount" placeholder="00.00" pattern="[0-9]+" required>
                            </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Withdraw!</button>
                    </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal fade" id="TransferModal" tabindex="-1" aria-hidden="true"><br><br><br><br><br><br>
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Transfer Money</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/transfer" method="post">
                            <div class="mb-3">
                                <label class="form-label">Select Your Account</label>
                                <select class="form-select" name="my_id">
                                    <option selected>Open this select menu</option>
                                    <% if(data.length){
                                        for(var i = 0; i< data.length; i++) {%>
                                            <option value="<%= data[i]._id %>"><%= data[i].account_name %> Balance = <%= data[i].balance.toFixed(2).toString(); %> </option>
                                            <% }          
                                    }else{ %>
                                        <option value="-1">Please Create Account</option>
                                    <% } %>
                              </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Transfer To </label>
                                <input type="text" name="transfer_id" class="form-control" placeholder="Account ID">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Balance</label>
                                <input class="form-control" name="amount" placeholder="00.00">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-warning">Transfer!</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </body>

    </html>